---
title: "bill_template"
format: 
  html:
    echo: false
    message: false
    warnings: false
params:
  bill_num: "HF1"
---

```{r}
library(jsonlite)

library(dplyr)
library(purrr)
library(stringr)

library(gt)


```

```{r}
items_to_df <- function(list){
  map(list, as.data.frame) |>
    bind_rows()
}
```


```{r}
bill <- read_json(here::here(str_glue("legiscan/files_ga91_json/bill/{params$bill_num}.json"))) |>
  pluck("bill")

sponsors <- bill |>
  pluck("sponsors") |>
  items_to_df()

history <- bill |>
  pluck("history") |>
  items_to_df()
```


# [`r params$bill_num`](`r bill$state_link`){target="_blank"}

#### `r bill$title`


